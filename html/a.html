<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ScrollMagic Tweening</title>

        <script src="../js/lib/jquery-3.5.1.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/ScrollMagic.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.7/plugins/debug.addIndicators.min.js"></script>

        <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.5/plugins/animation.gsap.js"></script>
    </head>
    <body>
        <div>
            <div class="spacer1 s1" style="position: fixed; left: 0; right: 0; top: 0; z-index: 99; width: 100px; height: 100px; border: 1px solid"></div>
            <div class="spacer2 s1" style="position: fixed; left: 0; right: 0; top: 0; z-index: 99; width: 100px; height: 100px; border: 1px solid"></div>
            <div class="spacer3 s1" style="position: fixed; left: 0; right: 0; top: 0; z-index: 99; width: 100px; height: 100px; border: 1px solid"></div>
            <div class="spacer4 s1" style="position: fixed; left: 0; right: 0; top: 0; z-index: 99; width: 100px; height: 100px; border: 1px solid"></div>
            <div id="trigger1" style="min-height: 100vh; background: lightcyan">2</div>
            <div id="trigger2" style="min-height: 100vh; background: lightblue">q33a</div>
            <div id="trigger3" style="min-height: 100vh; background: lightgoldenrodyellow">44</div>
            <div id="trigger4" style="min-height: 100vh; background: lightgray">55</div>
            <div id="trigger5" style="min-height: 100vh; background: lightcoral">11</div>
            <div style="min-height: 100vh; background: lightgreen">66</div>
        </div>

        <script>
            var circlePositions = [
                [
                    { x: '-6%', y: '-6%', scale: 1 },
                    { x: '69%', y: '55%', scale: 1 },
                    { x: 127, y: '48%', scale: 1 },
                    { x: '72%', y: '35%', scale: 1 },
                    { x: '90%', y: '36%', scale: 1 }
                ],
                [
                    { x: '15%', y: '58%', scale: 0.7 },
                    { x: '72%', y: '88%', scale: 1 },
                    { x: '22%', y: '85%', scale: 1 },
                    { x: '80%', y: '70%', scale: 1 },
                    { x: '90%', y: '80%', scale: 1 }
                ],
                [
                    { x: '2%', y: '12%', scale: 1 },
                    { x: '78%', y: '31%', scale: 1.5 },
                    { x: '20%', y: '31%', scale: 1 },
                    { x: '73%', y: '26%', scale: 1 },
                    { x: '95%', y: '30%', scale: 1 }
                ],
                [
                    { x: '23%', y: '35%', scale: 0.8 },
                    { x: '50%', y: '40%', scale: 1 },
                    { x: '50%', y: '40%', scale: 1 },
                    { x: '75%', y: '38%', scale: 1 },
                    { x: '50%', y: '40%', scale: 1 }
                ]
            ];

            var controller = new ScrollMagic.Controller();
            function Scroll(num) {
                console.log(circlePositions[num][0].y);
                var tween1 = TweenMax.to('.spacer1', 3.4, {
                    top: circlePositions[num][0].y,
                    left: circlePositions[num][0].x,
                    ease: Quint.easeOut
                });

                var tween2 = TweenMax.to('.spacer2', 3.2, {
                    top: circlePositions[num][1].y,
                    left: circlePositions[num][1].x,
                    delay: 0.15,
                    ease: Quint.easeOut
                });
                var tween3 = TweenMax.to('.spacer3', 3.7, {
                    top: circlePositions[num][2].y,
                    left: circlePositions[num][2].x,
                    delay: 0.24,
                    ease: Quint.easeOut
                });

                var tween4 = TweenMax.to('.spacer4', 3.5, {
                    top: circlePositions[num][3].y,
                    left: circlePositions[num][3].x,
                    delay: 0.32,
                    ease: Quint.easeOut
                });

                var tween5 = TweenMax.to('.spacer', 3.8, {
                    top: circlePositions[num][4].y,
                    left: circlePositions[num][4].x,
                    delay: 0.42,
                    ease: Quint.easeOut
                });
            }

            new ScrollMagic.Scene({
                triggerElement: '#trigger1',
                duration: 936,
                offset: -15
            })
                // .setTween(tween1)
                .addTo(controller)
                .on('enter leave', function (e) {
                    if (e.type == 'enter') Scroll(0);
                });

            new ScrollMagic.Scene({
                triggerElement: '#trigger2',
                duration: 936,
                offset: 0
            })
                // .setTween(tween1)
                .addTo(controller)
                .on('enter leave', function (e) {
                    if (e.type == 'enter') Scroll(1);
                });

            new ScrollMagic.Scene({
                triggerElement: '#trigger3',
                duration: 1348,
                offset: 0
            })
                // .setTween(tween1)
                .addTo(controller)
                .on('enter leave', function (e) {
                    if (e.type == 'enter') Scroll(2);
                });

            new ScrollMagic.Scene({
                triggerElement: '#trigger4',
                duration: 482,
                offset: 0
            })
                // .setTween(tween1)
                .addTo(controller)
                .on('enter leave', function (e) {
                    if (e.type == 'enter') Scroll(3);
                });
        </script>
    </body>
</html>
